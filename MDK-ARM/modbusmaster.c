
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "modbusmaster.h"

/*
#define VOLT_PV1_CMD					1
#define VOLT_PV2_CMD					2
#define INPUT_POWER_CMD				3
#define VOLT_A_CMD						4
#define VOLT_B_CMD						5
#define VOLT_C_CMD						6
#define CURR_A_CMD						7
#define CURR_B_CMD						8
#define CURR_C_CMD						9
#define ALARM1_CMD						10
#define ALARM2_CMD						11
#define ALARM3_CMD						12
#define APOWER_CMD						13

typedef struct __MBUSPACDEF{
	int cmd;
	int recdatalength;
	char txdata[8];	
}MBUSPACDEF;

#define VOLT_PV1_COMMAND				{0x01, 0x03, 0x7D, 0x10, 0x00, 0x01, 0x9D, 0xA3}
#define VOLT_PV2_COMMAND				{0x01, 0x03, 0x7D, 0x12, 0x00, 0x01, 0x3C, 0x63}
#define INPUT_POWER							{0x01, 0x03, 0x7D, 0x40, 0x00, 0x02, 0xDD, 0xB3}
#define VOLT_A									{0x01, 0x03, 0x7D, 0x45, 0x00, 0x01, 0x8D, 0xB3}
#define VOLT_B									{0x01, 0x03, 0x7D, 0x46, 0x00, 0x01, 0x7D, 0xB3}
#define VOLT_C									{0x01, 0x03, 0x7D, 0x47, 0x00, 0x01, 0x2C, 0x73}
#define CURR_A									{0x01, 0x03, 0x7D, 0x48, 0x00, 0x02, 0x5C, 0x71}
#define CURR_B									{0x01, 0x03, 0x7D, 0x4A, 0x00, 0x02, 0xFD, 0xB1}
#define CURR_C									{0x01, 0x03, 0x7D, 0x4C, 0x00, 0x02, 0x1D, 0xB0}
#define ALARM1									{0x01, 0x03, 0x7D, 0x08, 0x00, 0x01, 0x1D, 0x4A}
#define ALARM2									{0x01, 0x03, 0x7D, 0x09, 0x00, 0x01, 0x4C, 0x64}
#define ALARM3									{0x01, 0x03, 0x7D, 0x0A, 0x00, 0x01, 0xBC, 0x64}
#define APOWER_COMMAND					{0x01, 0x03, 0x7D, 0x50, 0x00, 0x02, 0xDC, 0x76}
*/

MBUSPACDEF mbuspac[13] = {
	{VOLT_PV1_CMD, 1, VOLT_PV1_COMMAND},
	{VOLT_PV2_CMD, 2, VOLT_PV2_COMMAND},
	{INPUT_POWER_CMD, 3, INPUT_POWER},
	{VOLT_A_CMD, 4, VOLT_A},
	{VOLT_B_CMD, 5, VOLT_B},
	{VOLT_C_CMD, 6, VOLT_C},
	{CURR_A_CMD, 7, CURR_A},
	{CURR_B_CMD, 8, CURR_B},
	{CURR_C_CMD, 9, CURR_C},
	{ALARM1_CMD, 10, ALARM1},
	{ALARM2_CMD, 11, ALARM2},
	{ALARM3_CMD, 12, ALARM3},
	{APOWER_CMD, 13, APOWER_COMMAND}
};

